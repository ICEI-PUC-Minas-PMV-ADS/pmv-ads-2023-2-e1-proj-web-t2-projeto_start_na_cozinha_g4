<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Start na cozinha</title>
  <link rel="stylesheet" href="style.css">

</head>

<body>
  <header>
    <nav>
      <div class="logo">
        <img src="../img/Logo.png" alt="Start na Cozinha Logo">
        <a href="../paginaHome/paginaHome.html">Start na cozinha</a>
      </div>
    </nav>
  </header>
  <div>
    <div  class="search-container">
      <input id="searchInput" type="text" class="search-input" placeholder="Procure uma receita, ingrediente ou cheff">
      <button onclick="searchRecipes()">Procurar</button>
    </div>
    <div id="results"></div>

    <div class="recipe-bar">
      <div class="recipe">
        <img src="../img/Lasanha.jpg" alt="Receita 1">
        <ul>
          <li><a href="../pgvisureceita/pgvisureceita.html?index=0" id="receita1" data-titulo=""> Lasanha Bolonhesa</a></li>
         

      </ul>
      </div>
      <div class="recipe">
        <img src="../img/Salmao.jpg" alt="Receita 2">
        <ul>
          <li><a href="../pgvisureceita/pgvisureceita.html?index=1" id="receita2" data-titulo=""> Salmão</a></li>
         

      </ul>
      </div>
      <div class="recipe">
        <img src="../img/cake_receita.jpg" alt="Receita 1">
        <ul>
          <li><a href="../pgvisureceita/pgvisureceita.html?index=2" id="receita3" data-titulo=""> Bolo de Morango</a></li>

      </ul>
      </div>
      <div class="recipe">
        <img src="../img/arroz.jpg" alt="Receita 2">
        <ul>
          <li><a href="../pgvisureceita/pgvisureceita.html?index=3" id="receita3" data-titulo="">Arroz com legumes</a></li>

      </ul>
      </div>
      <div class="recipe">
        <img src="../img/batata.jpg" alt="Receita 1">
        <ul>
          <li><a href="../pgvisureceita/pgvisureceita.html?index=4" id="receita3" data-titulo=""> Batata doce</a></li>

      </ul>
      </div>
      <div class="recipe">
        <img src="../img/feijao.png" alt="Receita 2">
        <ul>
          <li><a href="../pgvisureceita/pgvisureceita.html?index=5" id="receita3" data-titulo=""> Feijão tropeiro</a></li>

      </ul>
      </div>
    </div>
    <h1 class="container-h1"> Inicie a preparação de uma receita agora</h1>
    <div class="dropdown-bar">
      <div class="dropdown">
        <select id="categoria1">
          <option value="bolos">Bolos</option>
          <option value="opcao1">Chocolate</option>
         
        </select>
      </div>
      <div class="dropdown">
        <select id="categoria2">
          <option value="bolos">Carnes</option>
          <option value="opcao1">Carne moída</option>
         
        </select>
      </div>
      <div class="dropdown">
        <select id="categoria3">
          <option value="bolos">Dia a dia</option>
          <option value="opcao1">Maçã</option>
      
        </select>
      </div>
      <div class="dropdown">
        <select id="categoria4">
          <option value="bolos">Massas</option>
          <option value="opcao1">Lasanha</option>
     
        </select>
      </div>
    </div>

    <footer>
      <div class="left"></div>
      <div class="copy">
        <p> Copyright 2023 - Todos os direitos reservados.</p>
      </div>
      
    </footer>
  </div>

  <script>
    const recipesData = {
      "receitas": [
    {
      "nome": "Lasanha à Bolonhesa",
      "modo_de_preparo": "1. Cozinhe a massa da lasanha em água fervente com sal. \n2. Prepare o molho à bolonhesa com carne moída, molho de tomate, cebola, alho e temperos. \n3. Em um refratário, monte camadas de massa, molho e queijo. \n4. Repita as camadas até terminarem os ingredientes. \n5. Leve ao forno por 30 minutos ou até gratinar.",
      "ingredientes": [
        "500g de massa para lasanha",
        "400g de carne moída",
        "500ml de molho de tomate",
        "1 cebola picada",
        "2 dentes de alho picados",
        "250g de queijo mussarela",
        "Sal e pimenta a gosto",
        "Orégano a gosto"
      ],
      "Nome_Chef": "Ana Beatriz",
      "imagemChef": "../img/icon_chef.png", 
      "tempo_de_preparo": "30 minutos",
      "imagemTimer": "../img/icon_timer.png",
      "Nivel_de_dificuldade": "Médio",
      "imagemFry": "../img/icon_fryingpan.png"   
    },
    {
      "nome": "Salmão Grelhado",
      "modo_de_preparo": "1. Tempere os filés de salmão com sal, pimenta e limão. \n2. Aqueça a grelha ou frigideira. \n3. Grelhe o salmão por 4-5 minutos de cada lado. \n4. Sirva com acompanhamentos a gosto.",
      "ingredientes": [
        "4 filés de salmão",
        "Sal e pimenta a gosto",
        "Suco de limão",
        "Azeite"
      ],
      "tempo_de_preparo":"10 minutos",
      "imagemTimer": "../img/icon_timer.png",
      "Nivel_de_dificuldade":"Fácil",
      "imagemFry": "../img/icon_fryingpan.png",
      "Nome_Chef": "Isabella Smith",
      "imagemChef": "../img/icon_chef.png"
    }
  ]
};

    function searchRecipes() {
      const searchInput = document.getElementById('searchInput').value.toLowerCase();
      const resultsContainer = document.getElementById('results');
      resultsContainer.innerHTML = ''; 

      const filteredRecipes = recipesData.receitas.filter(recipe => {
      
    return (
      (recipe.nome && recipe.nome.toLowerCase().includes(searchInput)) ||
      (recipe.ingredientes && recipe.ingredientes.some(ingredient => ingredient && ingredient.toLowerCase().includes(searchInput))) ||
      (recipe.Nome_Chef && recipe.Nome_Chef.toLowerCase().includes(searchInput))
    );
  });


  if (filteredRecipes.length > 0) {
    filteredRecipes.forEach(recipe => {
      const recipeElement = document.createElement('dialog');
      recipeElement.innerHTML = `<h2>${recipe.nome}</h2>
                                 <p>Chef: ${recipe.Nome_Chef}</p>
                                 <p>Ingredientes: ${recipe.ingredientes ? recipe.ingredientes.join(', ') : 'N/A'}</p>
                                 <p>Dificuldade: ${recipe.Nivel_de_dificuldade}</p>
                                 <p>Tempo de preparação: ${recipe.tempo_de_preparo}</p>
                                 <button id="closeModal">Voltar</button>
                                 <hr>`;               
      resultsContainer.appendChild(recipeElement);
      recipeElement.showModal()
      let closeModal = document.getElementById("closeModal")
      closeModal.onclick = function() {
        recipeElement.close()
      }
    });
  } else {
    resultsContainer.innerHTML = '<p>Nenhuma receita encontrada.</p>';
  }
    }

    document.addEventListener("DOMContentLoaded", function() {
        // Carrega o JSON de receitas
        fetch('receitas.json')
            .then(function(response) {
                return response.json();
            })
            .then(function(data) {
                // Obtém os links das receitas
                const linksReceitas = document.querySelectorAll('.list ul li a');
    
                // Atualiza os links com os títulos do JSON
                data.receitas.forEach(function(receita, index) {
                    const linkReceita = linksReceitas[index];
                    linkReceita.textContent = receita.nome; // Assume que o título está na propriedade "nome"
                    linkReceita.dataset.titulo = receita.nome; // Armazena o título no atributo data-titulo
                });
            })
            .catch(function(error) {
                console.error('Ocorreu um erro ao carregar o JSON:', error);
            });
    });
  </script>
</body>

</html>
